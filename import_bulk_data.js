const mysql = require('mysql2');
require('dotenv').config();

const db = mysql.createConnection({
  host: process.env.DB_HOST,
  user: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  database: process.env.DB_NAME || 'webapp_db'
});

console.log('ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì¤‘...\n');

db.connect((err) => {
  if (err) {
    console.error('âŒ MySQL ì—°ê²° ì‹¤íŒ¨:', err);
    process.exit(1);
  }

  console.log('âœ… MySQL ì—°ê²° ì„±ê³µ!\n');
  console.log('ëŒ€ëŸ‰ ì‚¬ê¸° ì „ì  ë°ì´í„° ì‚½ì… ì‹œì‘...\n');
  console.log('ğŸ“Š ì´ 72ê°œ ë ˆì½”ë“œ (2025ë…„ 7ì›” ~ 10ì›”)\n');

  // fraud_reports í…Œì´ë¸”ì— ëŒ€ëŸ‰ ë°ì´í„° ì‚½ì…
  // ì£¼ì˜: attacker (ê°€í•´ì) = ì•, victim (í”¼í•´ì) = ë’¤
  const records = [
    // 2025ë…„ 10ì›” ë°ì´í„°
    ['2025-10-25', 12847, 12847, 'ì´ë™ìˆ ', 37853, 'ê²°ë°±', '10000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-25', 12847, 12847, 'ê²½ìƒë„ì§ê·€', 30563, 'í•«ì»¤ë¦¬', '10000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-25', 20119, 20119, 'íŒŒë¦¬', 54093, 'í‚¤í‚¤', '50000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-24', 50622, 50622, 'ìš°ì‰', 54093, 'í‚¤í‚¤', '60000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-24', 1874, 1874, 'ë§›ë„ë¦¬', 54790, 'ìœ¼ì•µ', '100000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ 1000ì› ì…ê¸ˆ'],
    ['2025-10-19', 21, 21, 'ì•µì§€', 34201, 'ì¡°ì„ ì œì¼ê²€', 'ì—í…Œë¦¬ì˜¨, ë°ë¹Œë°”ì´í¬, ë¹—ìë£¨ì˜ì, 130000000000', 'both', 'ì¤‘ê³„ì‚¬ê¸° ë° ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-10-19', 56171, 56171, 'ìš©ìš©', 34201, 'ì¡°ì„ ì œì¼ê²€', 'ì—í…Œë¦¬ì˜¨, ë°ë¹Œë°”ì´í¬, ë¹—ìë£¨ì˜ì, 130000000000', 'both', 'ì¤‘ê³„ì‚¬ê¸° ë° ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-10-19', 2415, 2415, 'ë§ˆë§ˆë§ˆ', 1828, 'ë„ë¼í¬', '10000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-18', 23030, 23030, 'í•˜í•˜í•˜', 54661, 'ê½ë°±', '5000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-10-16', 84, 84, 'ë§ë³´ë£¨', 1900, 'ë¯¼ë“¤ë ˆ', '800000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-10-10', 56483, 56483, 'í¬ì´ì¦Œ', 55918, 'ë•ì² ', '10000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-10-10', 46576, 46576, 'ë„ìœ¤ì‹œë°”', 42933, 'ì§€ì¬', '50000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-10-10', 37853, 37853, 'ì›ì¥ë‹˜', 57197, 'í‘ìš°', '30000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-09', 57536, 57536, 'ì¬ìœ¤ìŠ¤', 404, 'ìš”ì‹œ', '20000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-10-09', 56517, 56517, 'ê¹€ì¹˜ë§ˆì‰¬ì¨ìš”ë³µì', 404, 'ìš”ì‹œ', '50000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-09', 3292, 3292, 'ë¯¸ë‹ˆ', 108, 'ì´ì„¤', '500000000000', 'money', 'ì¬ì‚°ì´ ì—†ëŠ” ìƒíƒœ ì£¼ì‚¬ìœ„ ì‹œë„'],
    ['2025-10-06', 53959, 53959, 'ìœ ëŒì„ ', 152, 'ê¸ˆí™”', '20000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-05', 50499, 50499, 'í­ì£¼', 42933, 'ì§€ì¬', '50000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-05', 280, 280, 'ì–´ë‘ ì†ì˜ë¹›', 42933, 'ì§€ì¬', '20000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-03', 56118, 56118, 'ì˜ˆë¯¸ë§', 3292, 'ë¯¸ë‹ˆ', '5000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-03', 41, 41, 'ë§', 1010, 'ìŠ¹êµ¬', '200000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-03', 39271, 39271, 'ë†ì‹¬ì‹ ë¼ë©´', 18513, 'ì„ ', '170000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-10-03', 280, 280, 'ì´ˆì½”', 56774, 'ê¹€ì¤€ë§ˆ', '300000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-03', 10186, 10186, 'í™ë°•ì‚¬', 1010, 'ìŠ¹êµ¬', '200000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-03', 10186, 10186, 'êµ°ëŒ€ê°€ì²´ì§ˆ', 18513, 'ì„ ', '50000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-10-01', 36160, 36160, 'ë³‘ì°½', 18513, 'ì„ ', 'ë§˜ëª¨ìŠ¤', 'item', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],

    // 2025ë…„ 9ì›” ë°ì´í„°
    ['2025-09-30', 57294, 57294, 'í›„ë£¹', 152, 'ê¸ˆí™”', '100000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-09-30', 25522, 25522, 'ì„œì¤€ì¼ê»„ìš”', 18513, 'ì„ ', '50000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-09-28', 57338, 57338, 'ê¹€ë§Œë‘', 55177, 'ë¬¸ë¹›ëŒ€í˜„', '5000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-09-28', 56960, 56960, 'ì–¼ë¹µ', 55219, 'ë¹„ë‚˜', '100000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-09-28', 47619, 47619, 'ì¢…ì„ ', 39217, 'ë†ì‹¬ì‹ ë¼ë©´', '100000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-09-27', 8922, 8922, 'ë¬´ë…¸ê°“', 55219, 'ë¹„ë‚˜', '30000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-09-27', 30621, 30621, 'ë°”ì´í¼ì˜¤ì´', 30621, 'ì‚¬ëŒ', '3000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-09-27', 30621, 30621, 'ì˜¤ì´ë®ë°¥', 55177, 'ë¬¸ë¹›ëŒ€í˜„', '5000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-09-24', 1143, 1143, 'ë² ì„¼', 1143, 'ê¸ˆí™”', '30000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],

    // 2025ë…„ 8ì›” ë°ì´í„°
    ['2025-08-06', 7634, 7634, 'ë¸Œë¡œì½œë¦¬', 8922, 'ëš±ì˜ˆì§€', '40000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-08-03', 54315, 54315, 'í‚¤ë“œëª¨', 100, 'ë¬´ì¥', '50000000000', 'money', 'ì¬ì‚°ì´ ì—†ëŠ” ìƒíƒœ ì£¼ì‚¬ìœ„ ì‹œë„'],
    ['2025-08-03', 48521, 48521, 'í† ë§ˆìŠ¤', 62, 'ì•„ë² í¬', '300000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-08-03', 1874, 1874, 'ì•„ë‹ˆìš”', 1333, 'í‘¸ë°”', '100000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-08-02', 48521, 48521, 'ì•¼í˜¸', 11833, 'ê·¸ëŒ€ëŠ”ë‚˜ë§Œì—', '20000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-08-02', 1874, 1874, 'ì´ê²¼ìŠµë‹ˆë‹¤', 52074, 'ì´ì‹­ì›', '30000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],

    // 2025ë…„ 7ì›” ë°ì´í„°
    ['2025-07-31', 40516, 40516, 'ê¹€ëŒ€íŒŒ', 4493, 'ë§', '15000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-07-31', 1874, 1874, 'ìœ¡ê°œì¥', 77, 'ë½€ë½€', '100000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-07-30', 40897, 40897, 'ì•ˆë…•í•˜ì„¸ìš¤', 320, 'ë„ì¤€', '50000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-29', 30606, 30606, 'ë””ë””', 48467, 'ì¤€ë¹ˆ', '10000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-29', 28514, 28514, 'ë‚™ë‚™', 53, 'ê³ ë‹¬', '30000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-28', 14422, 14422, 'ì˜ëŒ€ì¥', 3504, 'í•˜ì½©', '10000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-27', 44788, 44788, 'ë„ë•¡', 53, 'ê³ ë‹¬', '40000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-27', 22128, 22128, 'ì¡°ì¡°', 10514, 'ê¸°ë¦°', '10000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-26', 56171, 56171, 'ìš©ìš©', 2068, 'ì‚´ì¸', '500000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-07-26', 50622, 50622, 'ìŠ¹ë§ˆì™•', 108, 'ì´ì„¤', '30000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-26', 24750, 24750, 'ê²½ì°°í•˜ê³ ì‹¶ì–´ìš”', 53, 'ê³ ë‹¬', '100000000000', 'money', 'ì£¼ì‚¬ìœ„ ì¤‘ê³„ ê³¼ì • ë¯¸ì…ê¸ˆ ì¢…ë£Œ'],
    ['2025-07-25', 49395, 49395, 'ë¦´ë² ì´ë¹„', 3571, 'ì™€ìš°', '10000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-07-25', 44788, 44788, 'ëŒ€ë¹„ë‹ˆ', 37606, 'ë©ê²Œ', '10000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-24', 44788, 44788, 'í† ì œ', 6273, 'í•˜ëŠë§', '20000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-24', 28691, 28691, 'ê³ ë´‰ë¯¼ê¹€ë°¥', 24750, 'ìŠ¤ëª¨í¬', '40000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-24', 200, 200, 'ìœ¤', 2900, 'ì§€í›ˆ', '200000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-24', 1506, 1506, 'ë°•ê°•ë°°', 11588, 'ë„ì•„', '20000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-07-21', 999, 999, 'ì–¼ë¹µ', 999, 'ììˆ˜', '30000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-07-20', 54664, 54664, 'ê¹€ë“íŒ”', 54814, 'ë…¸ì•„ë¯¼', '6000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-07-20', 54664, 54664, 'ê¹€ë“íŒ”', 100, 'ë¬´ì¥', '170000000000', 'money', 'ë¨¹íŠ€ ì¡°ì§ ê²°ì„± ë° ì£¼ì‚¬ìœ„ ë° ì¤‘ê³„ì‚¬ê¸° / ë²”ì£„ ì‚¬ì „ ì°¨ë‹¨'],
    ['2025-07-20', 54608, 54608, 'ë„ìœ¤', 100, 'ë¬´ì¥', '170000000000', 'money', 'ë¨¹íŠ€ ì¡°ì§ ê²°ì„± ë° ì£¼ì‚¬ìœ„ ë° ì¤‘ê³„ì‚¬ê¸° / ë²”ì£„ ì‚¬ì „ ì°¨ë‹¨'],
    ['2025-07-20', 53430, 53430, 'ê¹€ì¡°ì² ', 100, 'ë¬´ì¥', '170000000000', 'money', 'ë¨¹íŠ€ ì¡°ì§ ê²°ì„± ë° ì£¼ì‚¬ìœ„ ë° ì¤‘ê³„ì‚¬ê¸° / ë²”ì£„ ì‚¬ì „ ì°¨ë‹¨'],
    ['2025-07-20', 52282, 52282, 'ì‹¤íŒ¨ì˜ë¯¸í•™', 100, 'ë¬´ì¥', '170000000000', 'money', 'ë¨¹íŠ€ ì¡°ì§ ê²°ì„± ë° ì£¼ì‚¬ìœ„ ë° ì¤‘ê³„ì‚¬ê¸° / ë²”ì£„ ì‚¬ì „ ì°¨ë‹¨'],
    ['2025-07-20', 49568, 49568, 'ì£½ë¹µ', 40883, 'ë‹¨ë¹„', '20000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-20', 32751, 32751, 'í•˜ìœ¤', 795, 'ì—½ì¥', '30000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-20', 28514, 28514, 'ë§ì€ì¥ê·¼', 100, 'ë¬´ì¥', '170000000000', 'money', 'ë¨¹íŠ€ ì¡°ì§ ê²°ì„± ë° ì£¼ì‚¬ìœ„ ë° ì¤‘ê³„ì‚¬ê¸° / ë²”ì£„ ì‚¬ì „ ì°¨ë‹¨'],
    ['2025-07-19', 45744, 45744, 'ë§ˆë‹ˆ', 3003, 'ë•ìˆœ', '40000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-19', 32751, 32751, 'í•˜ìœ¤', 53, 'ê³ ë‹¬', '30000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ì¢…ë£Œ'],
    ['2025-07-19', 18180, 18180, 'í´ë¼ì¸', 2007, 'ì¤‘ë‘ë¼ë‹ˆê¹Œìš”', '1000000000', 'money', 'ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ 10ì› ì§€ê¸‰'],
    ['2025-07-18', 28514, 28514, 'ë§ì€ì¥ê·¼', 4141, 'ëŒ•ê·¸ë¦¬', '100000000000', 'money', 'ì£¼ì‚¬ìœ„ ì¤‘ê³„ ì‚¬ê¸° ë° ì£¼ì‚¬ìœ„ íŒ¨ë°° í›„ ë„ì£¼'],
    ['2025-07-15', 54640, 54640, 'ë§ˆìš”ë„¤ì¥¬ì¥¬', 62, 'ì•„ë² í¬', '1000000000000', 'money', 'ì£¼ì‚¬ìœ„ ì‹œë„ í›„ ë„ì£¼']
  ];

  let insertedCount = 0;
  let failedCount = 0;

  // ê° ë ˆì½”ë“œë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‚½ì…
  const insertRecord = (index) => {
    if (index >= records.length) {
      console.log(`\nâœ… ì‚½ì… ì™„ë£Œ: ${insertedCount}ê°œ`);
      if (failedCount > 0) {
        console.log(`âŒ ì‹¤íŒ¨: ${failedCount}ê°œ`);
      }

      // ìµœì¢… í™•ì¸
      db.query('SELECT COUNT(*) as total FROM fraud_reports', (err, results) => {
        if (!err) {
          console.log(`\nğŸ“Š í˜„ì¬ fraud_reports í…Œì´ë¸” ì´ ë ˆì½”ë“œ ìˆ˜: ${results[0].total}ê°œ\n`);
        }
        db.end();
        console.log('âœ… ëª¨ë“  ì‘ì—… ì™„ë£Œ!');
      });
      return;
    }

    const record = records[index];
    const sql = `INSERT INTO fraud_reports
      (report_date, unique_id, attacker_id, attacker_nickname, victim_id, victim_nickname, amount, amount_type, reason)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`;

    db.query(sql, record, (err, result) => {
      if (err) {
        console.error(`âŒ [${index + 1}/${records.length}] ì‚½ì… ì‹¤íŒ¨:`, record[3], 'â†’', record[5], err.message);
        failedCount++;
      } else {
        console.log(`âœ… [${index + 1}/${records.length}] ì‚½ì… ì„±ê³µ: ${record[3]} (ê°€í•´ì ${record[2]}) â†’ ${record[5]} (í”¼í•´ì ${record[4]})`);
        insertedCount++;
      }

      // ë‹¤ìŒ ë ˆì½”ë“œ ì²˜ë¦¬
      insertRecord(index + 1);
    });
  };

  // ì‚½ì… ì‹œì‘
  insertRecord(0);
});
